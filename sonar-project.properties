# Copyright (C) 2025  Henrique Almeida
# This file is part of WASudoku.
#
# WASudoku is free software: you can redistribute it and/or modify
# it under the terms of the GNU Affero General Public License as published
# by the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# WASudoku is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU Affero General Public License for more details.
#
# You should have received a copy of the GNU Affero General Public License
# along with WASudoku.  If not, see <https://www.gnu.org/licenses/>.

# Root project information
sonar.projectKey=wasudoku
sonar.projectName=WASudoku
sonar.projectVersion=0.0.0
sonar.sourceEncoding=UTF-8

# Path to sources and tests
# The 'src' directory contains both the frontend and wasm sub-project.
sonar.sources=src
sonar.tests=src

# Define which files are considered test files.
# This includes TypeScript test files. Rust unit tests are co-located, and
# coverage is determined by the report, not file patterns.
sonar.test.inclusions=**/*.test.ts,**/*.test.tsx

# Exclude wasm-bindgen browser tests from the standard test metrics.
sonar.test.exclusions=src/wasudoku-wasm/tests/web.rs

# Exclude generated code, dependencies, and configuration files from analysis.
sonar.exclusions= \
  node_modules/**, \
  dist/**, \
  coverage-*, \
  src/wasudoku-wasm/pkg/**, \
  src/wasudoku-wasm/target/**, \
  src/components/ui/**, \
  vite.config.ts, \
  eslint.config.js, \
  components.json, \
  tsconfig*.json

# Coverage Reports
# Use language-specific report paths for accurate processing.
sonar.javascript.lcov.reportPaths=coverage-ui.lcov
sonar.rust.cobertura.reportPaths=coverage-wasm.xml

# Exclude application entry points from coverage metrics.
sonar.coverage.exclusions= \
  src/main.tsx, \
  src/wasudoku-wasm/src/lib.rs, \
  src/wasudoku-wasm/src/utils.rs
